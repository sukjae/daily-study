{"componentChunkName":"component---src-templates-blog-post-js","path":"/boost-camp-membership/9/","result":{"data":{"site":{"siteMetadata":{"title":"Daily Study | Sukjae"}},"markdownRemark":{"id":"ed6f4dd1-ee8b-550c-8c00-5f38ed6c3794","excerpt":"오늘 고민한것 복잡한 관계에서 어떻게 상호 작용 할것인가. 이번 과제에서 하나의 중심이 되는 값이 존재하고(보통 현재의 인덱스의 위치), 이 값에 다수의 방법으로 변화를 줄 수 있다. 여기까지는 간단한데, 문제는 이 하나의 중심값이 변화가 되면, 그와 동시에 다수의 view…","html":"<h2>오늘 고민한것</h2>\n<h3>복잡한 관계에서 어떻게 상호 작용 할것인가.</h3>\n<p>이번 과제에서 하나의 중심이 되는 값이 존재하고(보통 현재의 인덱스의 위치), 이 값에 다수의 방법으로 변화를 줄 수 있다.</p>\n<p>여기까지는 간단한데, 문제는 이 하나의 중심값이 변화가 되면, 그와 동시에 다수의 view에 변화가 생긴다.</p>\n<p>React와 같은 단방향 흐름에서는 데이터(state)에 변화를 주면 이에 맞추어 화면(view)가 다시 랜더링 된다.</p>\n<p>그러나 vanilaJS 다른 특별한 무언가를 설정하지 않는 이상 이러한 sync한 변화는 이루어 지지 않는다.</p>\n<p>그래서 이러한 값의 변화에 따른 동시 다발적인 화면 갱신을 수행하기 위해서 두가지 방법을 생각해볼 수 있는데, push와 pull인것 같다.</p>\n<h3>일단 push방법은 가장 직관적이고 구현이 간단하다.</h3>\n<p>쉽게 생각해서 button 을 클릭하였을 때 이에 대한결과로 값을 갱신하고, 동시에 화면을 수정하는 것이다.</p>\n<p>vanilaJS에서 보통은 button에 addEventListener를 걸어준 다음에, 화면을 갱신할 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">buttonEle<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  someRootIndex <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"navbar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"card\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이를 그림으로 그리면 이러한 흐름이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 334px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/daily-study/static/093b2be1290529c1d3a129064c7df6c2/86d36/Untitled-01fd088f-eff8-48b6-9a55-7b54ec6193b1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACm0lEQVQ4y4VUTUgUYRj+ZN3msHnIS0TRD52C/i5dokNeYibCMsxV1w1/ttyd1cyKrKAgKgPbRtb0oK77o6tpEbVaUhgUpYcCGSpwN4sOUR2C6Br7ffT2fDu7ZcFuAy/f+87M+8zzvD/DWJ6rO6XB1IxvJLVl8Es6zSOlMq6NiuG6GE9XR/hXV0x8Qyztu7zPCgAWZc6kttpIqmHEASO5b5SI2dwxSvSbRMHnsFmi0Euicw+JDg3xB/8HTGlbAXhW+ldNz4osw77GuPiiT4ikZ0ws+ibE24a4eA/GffKhrTbKbZkzIqwzKljvhx1ZhuoWgLYt/Vh15Id93QWusIa0Uno6rbCmtLLpElc8o6I4L8NO82ixVT91G+yk9IOLZXZ/YraIFbrK+7m+v597Dwxw78FB7nWGuQ+FXpV7bqS09WDoXZrjiqZVZ1i0VQxm8nwVsJoI16FMZedRzFOTRCcSRPodosZxoqow3z3waeOu6wvlbkg+A4ZxgDoRt0rAqqGfCd8U8pBz7C7R8XtEh8eIAHqfBeaIDHSq6xnRlSdEfryEL5eFPm/YCQAXgDoAOIKzEnG7BUjTrSBycYaoe87Kq79NBIaPGGT6QVsHbR2+Dsl63RLJAFoLa/5H8l5IbocSHbl+iQGwFpiWt7YYEXt2DrdjsH83pWXqceGmgI1NmkuaNTI21OLP2KS0zdiSv8amMiSUPb3cgTl0NI0Kh3dcOOpHhAO5CqtFspw7zCJ8wSRYDWKA5AAxNlqH9C/P+0ssydxwD4t32Ix5yDZxmijVK+Qa+TclmVs9dU22y0GsXnySmL35Jk0b80SdT4luvCAKoKnX0ByAzhQsh/xBZIe7GP7yrtfulTIGux6s20dIftNySyzAX4DsFBj2/AKvDLZJ3axaqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled 01fd088f eff8 48b6 9a55 7b54ec6193b1\"\n        title=\"Untitled 01fd088f eff8 48b6 9a55 7b54ec6193b1\"\n        src=\"/daily-study/static/093b2be1290529c1d3a129064c7df6c2/86d36/Untitled-01fd088f-eff8-48b6-9a55-7b54ec6193b1.png\"\n        srcset=\"/daily-study/static/093b2be1290529c1d3a129064c7df6c2/12f09/Untitled-01fd088f-eff8-48b6-9a55-7b54ec6193b1.png 148w,\n/daily-study/static/093b2be1290529c1d3a129064c7df6c2/e4a3f/Untitled-01fd088f-eff8-48b6-9a55-7b54ec6193b1.png 295w,\n/daily-study/static/093b2be1290529c1d3a129064c7df6c2/86d36/Untitled-01fd088f-eff8-48b6-9a55-7b54ec6193b1.png 334w\"\n        sizes=\"(max-width: 334px) 100vw, 334px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>그러나 여기서 문제는, 중심이 되는 값(someRootIndex)를 갱신하는 작업이 button뿐만 아니라 기타 다른 엘리먼트와의 인터렉션을 통해 생기는 경우 코드의 엄청난 중복이 생겨버린다. (코드를 넣지 않아도 느껴질것이라 생각한다)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/4e6ec/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABfklEQVQY02Oo3fqR2bf1P2PL2XTmSbdc7OrPROlnrvh/um7v///pK/7sYACC////M8Qu/MOg1/abIWPFb6byzR+YJSL+M3RcSGSZeMvZsfFMAkjPxZo9QIUw0Hc1jLv/hrsdiJ27+rtW8brf5tmr/qjC5J0m/WZAB91XQnmBelzAetZ81yla99sMqPnP5qQl/zMn3dXT7L/hGdZwOlU4btHfxswVv9dEL/xTDFKctfIP2ADHSb85k5b8mZu58s+2qPn/U6c/1NQC6omuOZ4P0tOaufL3aoayDX82py37nznhjp7mBKCBNSeTRRKX/G0sXPt7TSzUwNINEAMte35zpiz7M7dg7Z9tkUgGVh7LEwbqaQW6cDXc+f3XEF5OWPJdK3bRb3OgZriX7Sfg9zJQjw5QjxnDhIMfmeP7/zO2nktnnnDTxa7tQpR+xvL/p6t2//8P9Co8UuIW/WGQqfkFCiKm1l0fmEXD/jN0XgRGyk1nx9ZzCfoZwEip2vX/PwDu9M8dp3WoAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled ddb78692 a2da 4888 b351 b16f4c71fec6\"\n        title=\"Untitled ddb78692 a2da 4888 b351 b16f4c71fec6\"\n        src=\"/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/fcda8/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png\"\n        srcset=\"/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/12f09/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png 148w,\n/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/e4a3f/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png 295w,\n/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/fcda8/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png 590w,\n/daily-study/static/0fe1244fffc3b14e06ad8c43dd7eb359/4e6ec/Untitled-ddb78692-a2da-4888-b351-b16f4c71fec6.png 827w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>그러나 이러한 방식의 가장 큰 문제는 코드의 중복이 아닌 재사용성이 꽝이 된다는 점이다.</p>\n<p>이 상황에만 사용할 수 있도록 코드가 상황에 종속되고, coupling되어 함수 내부 값을 바꾸지 않는 이상 재사용이 너무 어려워 지며, 이는 이전 과제에서 느꼈던 부분이다.</p>\n<h3>다른 방법은 없을까? ⇒Event &#x26; Pull!!</h3>\n<p>두번째로 든 생각은 Observer방식이나 Event를 사용하여 값의 갱신과 화면의 변화를 분리하고, 이를 React처럼 단방향으로 갱신이 가능하도록 하는 방법이 없을까 하다 떠올랐다.</p>\n<p>사실, JS나 Node를 쓰는 상황에서 너무나 당연한 접근 방법이였는데, 이벤트 기반 처리에 익숙치 않아 바로 떠오르지는 않았다.</p>\n<p>아래와 같은 방식으로 CustomEvent를 생성하여 관리하면 더욱 편리할 것으로 기대 된다. .</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/8c76f/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACGElEQVQoz2N4vl39LhA/A+LHQPzm5Q614/MPhXkv3B2dO2F5o13myv9nS9b//pa35t//yPm/oxmAwKVsGyuQMmNiZnRk42K2ZGZldAXybYFYjOHlXsufbw/a/H+93/b/52P2/1/tN32we0qF9YHGjpwt1bM90lf97ytY83t17uo/m6MW/LYHG1h5kpmNk5kPyFQDYlUg1mRkYpAG0swMr/Y7/Hx/zOv/myOe/7+c9v3/5oDTg/mHA13n7YtMm7G60SFi/v8zhWt/f0le+udf6Nw/USAD8/e8ZgHRW/7HiE994BM47ZGvHQMMAL356vl21U8vt6m+eb5N7cfznSqXb2ZPlr4ZtNr1aOIGm6jFfxtL1v2Zmbrsz4LQub8twS6sWsMMpNjcO2W4s89qiyXsVhME8plY2IHufLHDQuz0vkDFZWd9ws7tDlJ8fUJD6GLiAj0G/EAeiJ35mXjttFhVHJVYZUEuNANifbiKnqeiNjD2+YQlahfjFyfeip3Hg27Shv//GbR4xMFe3h7cp3gsalbY0aiZzqDw42blYGGInvdNLnPFjykF65+sTln6Y1LyrA+yIMVX4hZpHExZaxOz+n95zorf09KX/5kTv/iPOUhuwf//jDjdHjLnt0Xptv//a3f//58DtB4Y8IZwyen/ObNX/vlQt+///7oj//8nLf2TDhJOWPAF7MI4LS+GiY6FDDUWiWDlIFsABBLpkq99U2wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled 8e444d39 625b 4b65 98d4 570c8638c6ec\"\n        title=\"Untitled 8e444d39 625b 4b65 98d4 570c8638c6ec\"\n        src=\"/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/fcda8/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png\"\n        srcset=\"/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/12f09/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png 148w,\n/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/e4a3f/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png 295w,\n/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/fcda8/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png 590w,\n/daily-study/static/b12f70a3c1316ffd676d90e96d0b7c8b/8c76f/Untitled-8e444d39-625b-4b65-98d4-570c8638c6ec.png 612w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>이렇게 구성하면, 위의 예시에서 <code class=\"language-text\">someRootIndex</code> 를 갱신하는 작업이 이루어지고, 이후에 Event를 Dispatch 함으로서 해당 Event에 등록된 모든 엘리먼트들이 동시 다발적으로 변화(우리의 예시에서는 배경색 바꾸는 작업)가 실행이 가능해진다.</p>\n<p>이 접근 방법의 핵심은, 중심값을 갱신하는 작업과, 화면의 갱신이라는 두개의 큰 작업을 논리적으로 분리할 수 있다. 또한 결합을 줄임으로서 추후에 추가적인 작업(예를 들어 새로운 엘리먼트의 갱신)이 필요할때 적용이 용이하다.</p>\n<p>아직 이 방법으로 코드를 작성하지 않아서 어떤 어려움이 있을진 모르겠다.</p>\n<p>이 생각으로 코드를 작성한 뒤, 기록을 남기도록 하겠다.</p>\n<h2>마스터 클래스 정리</h2>\n<h3>promise는 무엇을 반환하는가?</h3>\n<ul>\n<li>팬딩중인 프로미스를 반환한다.</li>\n</ul>\n<h3>then은 언제 실행되는가</h3>\n<ul>\n<li>then의 줄을 접하는 순간 실행된다.</li>\n<li>여기서 중요한 부분은, then이 promise가 resolve되기를 기다렸다가 실행되는게 아니라,</li>\n<li>먼저 실행 되고 나서 then에 넘긴 callback이 promise가 resolve되면 실행되는 형태이다.</li>\n</ul>\n<h3>then을 연속적으로 사용가능한 이유가 무엇인가</h3>\n<ul>\n<li>then 의 반환값은 Promise이기 때문에 .then으로 체이닝이 가능하다</li>\n</ul>\n<h3>setTimeout에서 16.66ms의 의미는?</h3>\n<ul>\n<li>VSync 즉 모니터의 화면 갱신은 보통 60Hz이며, 다시말해 1000초에 60번 갱신되서 그 interval은 16.66ms(1000/60)이다.</li>\n<li>이를 맞추어 스무스 하게 화면을 보여주기 위한 트릭이다.</li>\n</ul>\n<h2>오늘 느낀것</h2>\n<h3>prototype과 <strong>proto</strong>에 대해 다 까먹고 있었다…</h3>\n<p>다시 정리하고, 기록하자… 너무 중요한 내용을 너무 쉽게 잊어버렸다.</p>\n<h3>Iterm2는 강력하고 아름답다</h3>\n<p>오늘 iterm의 터미널 화면에 변화를 주었다.</p>\n<p>심심했던 나의 화면이 아름답게 변화를 하니 코드를 칠 맛이 나는 것 같다.</p>\n<p>지난번에 마스터 님께서 주기적으로 view를 바꾸시던데, 오래 작업하기 위해서 이런 소소한 변화를 주는것도 좋은 방법인것 같다.</p>\n<p>화면 예시</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/daily-study/static/fccbf3a29dd246d404348fef863cc859/c6720/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.027027027027025%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABB0lEQVQY0zWQyXKDMBAF5Q2MbXaBNhDYlGPn4P//vM5AkkPXqEaqnjdSxeWMsXbDGoOV6uOCG+64EPFSbW9wpsH7iktyIDvtCU2J0zXedHhn8LYnPycoL5JlecrjsAl9GIiPN9Pji3FaCCKf4sQcHfNsqG8Zl9MBL0KvZYjpN9lKKeHU5xmYbUmiFErQ+YnXWFFnkmSn2EmvzTPKLKVIU3R54yopD9Lfq9/7fzZHV+fEaZL1xi3dKOfH+8NwfzHMT+LyLSsFBt8xxoZreiTdK25Sg+2IwRHHwDh41u9T0TtZKdI2DV3b0mlNbzzGuI1+RbeYrsL0xZZuFWbHHbouMG1N/0eeJfwAPFx6exuUw/MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled 6f6f30e2 0762 482f a4aa 3789150680d9\"\n        title=\"Untitled 6f6f30e2 0762 482f a4aa 3789150680d9\"\n        src=\"/daily-study/static/fccbf3a29dd246d404348fef863cc859/fcda8/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png\"\n        srcset=\"/daily-study/static/fccbf3a29dd246d404348fef863cc859/12f09/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 148w,\n/daily-study/static/fccbf3a29dd246d404348fef863cc859/e4a3f/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 295w,\n/daily-study/static/fccbf3a29dd246d404348fef863cc859/fcda8/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 590w,\n/daily-study/static/fccbf3a29dd246d404348fef863cc859/efc66/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 885w,\n/daily-study/static/fccbf3a29dd246d404348fef863cc859/c83ae/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 1180w,\n/daily-study/static/fccbf3a29dd246d404348fef863cc859/c6720/Untitled-6f6f30e2-0762-482f-a4aa-3789150680d9.png 1922w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>적용 방법: <a href=\"https://gist.github.com/kevin-smets/8568070\">https://gist.github.com/kevin-smets/8568070</a></p>\n<h2>오늘의 회고</h2>\n<p>요즘 계속 10분씩 늦는다…</p>\n<p>팀원분들께 늦어서 죄송하다, 먼저 시작하시라 하는게 입버릇이 되버리는것 같다.</p>\n<p>나의 나태해진 모습을 반성하고, 내일부터 30분 일찍 캠프를 가도록 하자.</p>","frontmatter":{"title":"부스트캠프 2019 맴버쉽 9","date":"September 03, 2019"}}},"pageContext":{"slug":"/boost-camp-membership/9/","previous":{"fields":{"slug":"/boost-camp-membership/8/"},"frontmatter":{"title":"부스트캠프 2019 맴버쉽 8"}},"next":{"fields":{"slug":"/boost-camp-membership/10/"},"frontmatter":{"title":"부스트캠프 2019 맴버쉽 10"}}}}}