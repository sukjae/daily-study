---
title: 객체지향의 사실과 오해 1
date: "2019-12-31T00:00:00Z"
---

| 원제    | 객체지향의 사실과 오해: 역할, 책임, 협력 관점에서 본 객체지향 |
| ----- | ------------------------------------- |
| 저자    | 조영호             |
| ISBN  | 978-89-98139-76                         |
| 독서 기간 | 2019-12-31 ~                           |
| 독서 량  | 3장                                    |

## 시작하기 앞서...

이 책을 읽기 전에 객체지향에 대한 나의 생각은, 객체를 기반으로한 복잡한 개발 방법에 지나지 않았다. 그 속의 철학과 용어들을 이해하려 하지 않은채, 어렵고 오래된 방법이라 치부하며 학습하지 않았다. 

이 책은 객체지향에 대해 무지하던 나에게 객체지향을 맛보게 해주고, 방향을 알려준 고마운 책이다. 이 책은 한번 읽었지만, 그 내용을 한번 더 정리하기 위해 부분 부분 중요한 내용을 요약하여 기록하고자 한다. 

## 타입과 추상화

### 추상화

**추상화**라는 단어는 객체지향에서 정말 많이 언급된다. 이 책에서도 추상화가 정말 많이 언급 되는데, 책에서는 다음과 같이 그 필요성에 대해 말하기도 한다. 

> 추상화를 사용함으로써 우리는 극도로 복잡한 이 세상을 그나마 제어 가능한 수준으로 단순화할 수 있는 것이다 (p88)

우리가 동시에 인지할 수 있는 객체의 수는 한정되어 있고, 그 객체는 끝도 없는 복잡함을 갖고 있다. 우리는 추상화를 통해 우리의 뇌에게 조금 덜 부담을 주고, 실수를 줄일수도 있을 것이다. 

그렇다면, 이 책에서는 추상화를 어떻게 정의하고 있을까?

> 추상화란, 어떤 양상, 세부 사항, 구조를 좀 더 **명확하게 이해하기 위해** 특정 절차나 물체를 **의도적으로 생략하거나 감춤으로써 복잡도를 극복하**는 방법이다 (p77)

복잡성을 다루기 위해 추상화는 두 차원으로 단순화 한다. 

1. 구체적인 사물들 간의 공통점은 취하고, 차이점은 버리는 일반화
2. 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거

두 방법 모두 가치를 쳐내듯 세부사항을 제거한다는 공통점이 있지만, 제거의 대상을 찾는 방법에 약간의 차이가 있다. 우리는 은연중에 모두 이 두가지 방법을 사용했을 텐데, 이렇게 짚고 넘어가니 나중에 점검하기도 좋은것 같다. 

### 유사성을 기반으로 한 추상화 예시와 개념

책에서는 여러 객체들을 유사성을 기반으로 한 두가지 그룹으로 나누어 단순화 한다.(p82) 이렇게 다수의 개별적인 객체가 아니라, 두개의 큰 덩어리로 인식을 함으로서 우리는 내재된 복잡성을 효과적으로 감소시키게 된다.

여기서 공통점(유사성)을 기반으로 객체들을 묶기 위한 그릇을 개념(concept) 이라고 한다. (p83) 이 개념에 대한 예시로는, 자동차, 비행기, 인간 이라는 개념이 있을 수 있다. 

이 개념을 기반으로 우리는 분류(classification)을 할 수 있다. 우리는 여러 객체중에 공통점을 기반으로 한 두 개념으로 나누고, 객체가 각 그룹에 포함되도록 분류하는 작업을 수행한다. 

분류란, 특정한 객체를 특정한 개념의 객체 집합에 포함시키거나 포함시키지 않는 작업을 의미한다.(p87)

> 객체에 특정한 개념을 적용하기로 결심했을 때 우리는 그 객체를 특정한 집합의 멤버로 분류하고 있는 것이다(p87)

우리는 개념이 객체에 적용됐을 때 객체를 개념의 인스턴스라고 한다. 

### 개념의 3가지 관점: 심볼, 내연, 외연 (p84)

- 심볼은 개념을 가르키는 명칭.
- 내연은 개념의 완전한 정의.
- 외연은 개념에 속하는 모든 객체의 집합.

을 의미한다. 

책에서는 트럼프를 예시로 들어 다음과 같이 설명한다.

- 트럼프라는 이름은 개념의 심볼이다
- 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있다는 트럼프에 대한 설명은 내연이다 (내연은 개념을 객체에게 적용할 수 있는지 여부를 판단하기 위한 **조건이다**)
- 외연은 개념에 속하는 객체들, 즉 개념의 인스턴스들이 모여 이뤄진 집합


### 타입

> 타입은 개념이다(p89)

저자는 프로그래밍 언어 관점에서의 데이터 타입을 다음과 같이 정의한다(p91)

> 데이터 타입은 ... 메타데이터 이다.


책에 따르면, 우리가 앞서 이해한 "개념(concept)"를 수학적으로 차용한 언어로 바꾸면, "타입(type)"이 된다. 타입은, 공통점을 기반으로 객체들을 묶기 위한 틀이다. 

> 어떤 객체에 **타입은 적용**할 수 있을 때 그 **객체를 타입의 인스턴스**라고 한다. (p89)

저자는 이 책에서, 타입에 대한 이해를 돕기 위해 자료형에 대해 언급한다. 이 부분은 생활코딩에서도 한번 들은적이 있는데, 그 내용을 정리하면 다음과 같다. 

1. 타입은 데이터가 어떻게 사용되느냐에 관한 것이다. 
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다. 

자료형을 예로 들면, 숫자형 데이터가 숫자형인 이유는 더하거나 빼는등의 연산자를 적용할 수(사용할 수) 있기 때문이다. 즉, 중요한 것은 연산자의 종류가 아니라 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 결정한다. (p91) 

이 책에서 여러번 언급되 듯이 객체에서 중요하고, 그 타입을 결정하는 것은 내부의 상태가 아니라, **행동**임을 기억하자. 

> 상태는 행동의 결과로 초ㄹ래된 부수효과를 쉽게 표현하기 위해 도임한 추상적인 개념일 뿐이다(p92)

> 객체가 협력을 위해 어떤 책임을 지녀야 하는지를 결정하는 것이 객체지향 설계의 핵심이다.(p92)

결과적으로, 객체를 타입에 따라 분류하고 이름을 붙이면 결국 프로그램에서 사용할 **새로운 데이터 타입을 선언** 하는 것이다.(p92)

### 행동이 우선이다

앞서 여러번 언급 되었듯이, 객체가 어떤 행동을 하느냐에 따라 객체의 타입이 결정되며, 객체의 타입은 내부 표현과는 아무런 상관이 없다. 
그러므로 동일한 데이터를 갖고 있더라도, 다른 행동을 한다면 그 객체들은 서로 다른 타입이다. (p93)

이를 종합해 보면 객체들이 동일한 메세지를 수신하고 처리한다면, 그 내부 구현 방법이 다르더라도 동일한 타입으로 본다. 이는 다형성과 관련이 있는 부분이다. 

### 타입의 계층

타입간에는 계층 관계가 존재할 수 있으며 그 관계는 일반화/특수화(generalization/specialization)의 관계를 갖는다. 타입간의 계층 관계는 개념의 외연적 표현으로 미뤄 봤을 때 하나가 다른 하나를 부분집합으로서 갖는 모양이 된다.

계층관계에 있어, 특수계층의 경우 더 많은 행동의 수를 갖으면 더 적은 외연 집합을 갖게 되고, 일반계층은 반대의 성향을 보인다. 

일반적인 타입을 **슈퍼타입**, 특수한 타입을 **서브타입** 이라 표현할 수 있다. 

이 두 관계도 위에서 말한 타입간의 관계가 행동에 의해 결정되고, 행위적 호환성을 만족해야 슈퍼-서브 타입의 관계가 될 수 있다는 사실에는 변함이 없다. 

이를 책에서는 다음과 같이 표현한다. 

> 어떤 타입을 다른 타입의 서브타입이라고 말할 수 있으려면 다른 타입을 대체할 수 있어야 한다. (p100)

### 타입의 목적

> 타입은 시간에 따라 동적으로 변하는 앨리스의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다. (p102)

책에서 앨리스를 갖고 소개하는 은유를 통해, 앨리스의 상태가 계속 변하는 것에 초점을 맞추는게 아니라 변경되는 상태를 갖는다 라고 단순화 한다 라고 표현한다. 이를 통해 상태에 복잡성을 부여하는 시간이라는 요소를 배제한체 정적인 모습의 객체를 생각할 수 있게 해준다. 

이는 앞서 말한 추상화와 크게 관련이 있다. 결국, 이러한 관점 또한 불필요한 부분을 도려내고 객체를 바라보는 추상화인 것이다. 그러므로 타입은 추상화이기도 하다. 

### 클래스와의 관계


> 타입을 구현하는 가장 보편적인 방법은 클래스를 이용하는 것이다. (p104)

**클래스와 타입은 동일한 것이 아니다.**  타입은 객체를 분류하기 위해 사용하는 개념이며, 클래스는 타입을 구현할 수 있는 여러 구현 메커니즘 중 하나일 뿐이다. 